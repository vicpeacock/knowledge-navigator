# Google Cloud Run Environment Variables
# Copia questo file come .env.cloud-run e compila i valori

# Database Configuration
# Per Cloud SQL: postgresql+asyncpg://user:pass@/dbname?host=/cloudsql/PROJECT:REGION:INSTANCE
# Per database esterno: postgresql+asyncpg://user:pass@host:port/dbname
DATABASE_URL=postgresql+asyncpg://knavigator:PASSWORD@/knowledge_navigator?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
POSTGRES_HOST=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
POSTGRES_USER=knavigator
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD
POSTGRES_DB=knowledge_navigator
POSTGRES_PORT=5432

# ChromaDB Configuration
# Se ChromaDB Ã¨ deployato separatamente, usa URL esterno
CHROMADB_HOST=your-chromadb-host.com
CHROMADB_PORT=443

# Security Keys (GENERA VALORI SICURI!)
SECRET_KEY=your-secret-key-min-32-characters-long
ENCRYPTION_KEY=your-32-byte-encryption-key-exactly-32-chars
JWT_SECRET_KEY=your-jwt-secret-key-min-32-characters-long
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Ollama Configuration
# Se usi Ollama cloud o servizio esterno
OLLAMA_BASE_URL=https://your-ollama-service.com
OLLAMA_MODEL=gpt-oss:20b
OLLAMA_API_KEY=your-ollama-api-key-if-needed

# Background LLM (opzionale)
OLLAMA_BACKGROUND_BASE_URL=https://your-background-llm.com
OLLAMA_BACKGROUND_MODEL=Phi-3-mini-4k-instruct-q4
USE_LLAMA_CPP_BACKGROUND=false
REQUIRE_BACKGROUND_LLM=false

# Google OAuth2 (per Calendar/Email integrations)
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret

# MCP Gateway (se deployato separatamente)
MCP_GATEWAY_URL=https://your-mcp-gateway.run.app
MCP_GATEWAY_AUTH_TOKEN=optional-bearer-token

# Email Configuration (opzionale)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@yourdomain.com

# Feature Flags
USE_LANGGRAPH_PROTOTYPE=true

# Memory Settings
SHORT_TERM_MEMORY_TTL=3600
MEDIUM_TERM_MEMORY_DAYS=30
LONG_TERM_IMPORTANCE_THRESHOLD=0.7
MAX_CONTEXT_TOKENS=8000
CONTEXT_KEEP_RECENT_MESSAGES=10

# Semantic Integrity
INTEGRITY_CONFIDENCE_THRESHOLD=0.85
INTEGRITY_MAX_SIMILAR_MEMORIES=5
INTEGRITY_CHECK_EXHAUSTIVE=false
INTEGRITY_MIN_IMPORTANCE=0.7

# File Upload
MAX_FILE_SIZE=10485760

# Port (Cloud Run usa PORT env var automaticamente)
PORT=8000

